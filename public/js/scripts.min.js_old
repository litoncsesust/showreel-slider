!function(){"use strict";var p=jQuery.noConflict();p.fn.isOnScreen=function(){var e=p(window),t={top:e.scrollTop(),left:e.scrollLeft()};t.right=t.left+e.width(),t.bottom=t.top+e.height();e=this.offset();return e.right=e.left+this.outerWidth(),e.bottom=e.top+this.outerHeight(),!(t.right<e.left||t.left>e.right||t.bottom<e.top||t.top>e.bottom)};function a(e,t){for(var o=!0,a=Object.keys(t),s=0;s<a.length;s++){var i=t[a[s]],n=p("[name="+a[s]+"]"),r=n.val(),l=!0;i.includes("required")&&""==p.trim(r)&&(n.parent().addClass("form-field-error-required"),l=o=!1),i.includes("email")&&""!==p.trim(r)&&!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(r)&&(n.parent().addClass("form-field-error-email"),l=o=!1),l&&(n.parent().removeClass("form-field-error-required"),n.parent().removeClass("form-field-error-email"))}return o}function s(t){var o;t.hasClass("counted")||(o=t.data("number"),t.prop("Counter",o).animate({Counter:p(this).text()},{duration:3e3,easing:"linear",step:function(){var e=(o-~~this.Counter).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");t.text(e)},complete:function(){var e=o.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");t.text(e)}}),t.addClass("counted"))}function i(e){e.length&&e.isOnScreen()&&(e.find(".slick-next").trigger("click"),e.addClass("scrolled"),setTimeout(function(){e.find(".slick-prev").trigger("click")},500))}function n(e){e.length&&e.isOnScreen()&&(e.animate({scrollLeft:"+=50"},500),e.addClass("scrolled"),setTimeout(function(){e.animate({scrollLeft:"0"},500)},500))}function m(e){e.preventDefault();var t=p(this).data("member_id"),o=wp.template("team_member_details"),a=p(".member-info-details-container"),s=p(".member-info-details-popup, .member-info-details-overlay");(e=new FormData).append("member_id",t),e.append("action","load_member_details"),a.addClass("loading"),p.ajax(echologyx_vars.ajaxUrl,{method:"POST",contentType:!1,processData:!1,data:e,success:function(e){e?(s.addClass("active"),a.removeClass("loading"),a.html(o(e.data))):console.log("Fail")}})}p(document).on("ready",function(){var e=p(".services-grid"),t=p(window),o={slidesToShow:1,slidesToScroll:1,autoplay:!1,autoplaySpeed:6e3,infinite:!0,dots:!0,pauseOnFocus:!1,pauseOnHover:!1,accessibility:!1,focusOnSelect:!1,pauseOnDotsHover:!1,responsive:[{breakpoint:768,settings:{slidesToShow:1,slidesToScroll:1,autoplay:!1}}]};10<p(window).scrollTop()&&p("header").addClass("scrolled-down"),t.on("load resize scroll",function(){t.width()<768?e.not(".slick-initialized").slick(o):e.hasClass("slick-initialized")&&e.slick("unslick")}),p(".testimonial-carosel-container").slick({prevArrow:"<button type='button' class='slick-prev pull-left'><img src='"+echologyx_vars.siteURI+"/public/img/left-arrow.png'/></button>",nextArrow:"<button type='button' class='slick-next pull-right'><img src='"+echologyx_vars.siteURI+"/public/img/right-arrow.png'/></i></button>",infinite:!0,pauseOnFocus:!1,pauseOnHover:!0,pauseOnDotsHover:!1,accessibility:!1,focusOnSelect:!1,variableWidth:!0,cssEase:"ease-out"}),p(".testimonial-clients-quotes.carousel").slick({prevArrow:"<button type='button' class='slick-prev pull-left'><img src='"+echologyx_vars.siteURI+"/public/img/left-arrow.png'/></button>",nextArrow:"<button type='button' class='slick-next pull-right'><img src='"+echologyx_vars.siteURI+"/public/img/right-arrow.png'/></i></button>",slidesToShow:1,slidesToScroll:1,dots:!0,infinite:!0,pauseOnFocus:!1,pauseOnHover:!0,pauseOnDotsHover:!1,accessibility:!1,focusOnSelect:!1,autoplay:!1,swipe:!1,fade:!0,autoplaySpeed:7e3}),p(".testimonial-clients-quotes.simple").slick({prevArrow:"<button type='button' class='slick-prev pull-left'><img src='"+echologyx_vars.siteURI+"/public/img/left-arrow.png'/></button>",nextArrow:"<button type='button' class='slick-next pull-right'><img src='"+echologyx_vars.siteURI+"/public/img/right-arrow.png'/></i></button>",slidesToShow:1,slidesToScroll:1,dots:!0,infinite:!0,pauseOnFocus:!1,pauseOnHover:!0,pauseOnDotsHover:!1,accessibility:!1,focusOnSelect:!1,autoplay:!1,autoplaySpeed:7e3}),p(".testimonial-clients-quotes").on("afterChange",function(e,t,o){t.$slider.parent().find(".testimonial-carosel-container .testimonial-carosel-item").removeClass("active"),t.$slider.parent().find(".testimonial-carosel-container .testimonial-carosel-item[data-testimonial_index="+o+"]").addClass("active")}),p("#nav-icon").on("click",function(){p(this).toggleClass("open"),p(".echologxy-sitenav").toggleClass("nav-active")}),p(".service-type-terms-filter").on("click",function(){p(".service-type-terms-filter").removeClass("active"),p(this).addClass("active")}),p(".testimonial-carosel-item").eq(1).trigger("click"),p(".testimonial-carosel-item").on("click",function(){p(".testimonial-carosel-item").removeClass("active"),p(this).addClass("active");var e=p(this).data("testimonial_index");p(".testimonial-clients-quotes .slick-dots li").eq(e).trigger("click")}),0<p(".job-counter-container").length&&p(".job-counter-container").isOnScreen()&&p("span.count-number").each(function(){s(p(this))}),p(window).on("scroll wheel",function(e){var t=p(window).scrollTop(),o=p(".testimonial-top-graphics .graphics-container");10<t?(p("header").addClass("scrolled-down"),0<p(".job-counter-container").length&&p(".job-counter-container").isOnScreen()&&p("span.count-number").each(function(){s(p(this))}),i(p(".services-grid:not(.scrolled)")),i(p(".testimonial-carosel-container:not(.scrolled)")),n(p(".counter-grid:not(.scrolled)")),n(p("ul.type-filter-list:not(.scrolled)")),o.length&&o.isOnScreen()&&o.addClass("scrolled"),p(".service-row-item:not(.scrolled) .row-icon").each(function(){var e=p(this);e.isOnScreen()&&setTimeout(function(){e.closest(".service-row-item").addClass("scrolled")},300)})):p("header").removeClass("scrolled-down")}),p(".service-type-terms-filter").on("click",function(e){e.preventDefault();var t=p(this).data("term_id"),o=wp.template("client_brand_logo_items"),e=new FormData,a=p(".client-brands-logo-cotainers");e.append("term_id",t),e.append("action","filter_client_by_service"),a.addClass("loading"),p.ajax(echologyx_vars.ajaxUrl,{method:"POST",contentType:!1,processData:!1,data:e,success:function(e){e?(a.html(o(e)),a.removeClass("loading"),p(".client-brand-logo-item.new-load").each(function(e){setTimeout(function(){p(".client-brand-logo-item.new-load").eq(e).addClass("new-loaded")},50*e)})):console.log("Fail")}})}),p(".blog-category-filter-list .category-item").on("click touchstart",function(e){e.preventDefault();var t=p(this).data("term_id"),o=p(this),a=o.parent(),s=p(".load-more-button");s.data("term_id",t);var i=parseInt(o.data("page")),n=o.data("type"),r=o.data("taxonomy"),l=o.data("numberofpost"),e=i*l,c=wp.template("post_grid_items"),i=new FormData,d=p(".post-grid");i.append("offset",e),i.append("type",n),i.append("taxonomy",r),i.append("term_id",t),i.append("numberofpost",l),i.append("action","load_more_posts"),p(".blog-category-filter-list .category-item").removeClass("active"),p(".post-grid-item").removeClass("new-loaded"),a.addClass("loading-bar"),p.ajax(echologyx_vars.ajaxUrl,{method:"POST",contentType:!1,processData:!1,data:i,success:function(e){e?(a.addClass("loaded-bar"),d.html(c(e)),s.data("count",e.count),s.data("page",1),o.addClass("active"),setTimeout(function(){p(".post-grid-item.new-load").addClass("new-loaded"),p(".post-grid-item").removeClass("new-load"),a.removeClass("loaded-bar"),a.removeClass("loading-bar"),p(".post-grid-item.new-loaded").length&&p("html, body").animate({scrollTop:p(".post-grid-item.new-loaded").eq(0).offset().top-260},500),e.count>=e.found?s.hide():s.show(),s.text("Load More")},100)):console.log("Fail")}})}),p(".load-more-button").on("click",function(e){e.preventDefault();var o=p(this),a=parseInt(o.data("count")),s=parseInt(o.data("page")),t=o.data("type"),i=o.data("term_id"),n=o.data("taxonomy"),r=o.data("numberofpost"),l=s*r,c=wp.template("post_grid_items"),e=new FormData,d=p(".post-grid");e.append("offset",l),e.append("type",t),e.append("taxonomy",n),e.append("term_id",i),e.append("numberofpost",r),e.append("action","load_more_posts"),o.text("Loading..."),p(".post-grid-item").removeClass("new-loaded"),p.ajax(echologyx_vars.ajaxUrl,{method:"POST",contentType:!1,processData:!1,data:e,success:function(e){var t;e?(o.data("page",s+1),t=a+e.count,o.data("count",t),d.append(c(e)),p(".team-grid-item").length&&p(".team-grid-item").on("click",m),setTimeout(function(){p(".post-grid-item.new-load").addClass("new-loaded"),p(".post-grid-item").removeClass("new-load"),t>=e.found&&o.hide(),o.text("Load More")},100)):console.log("Fail")}})}),p(".write-to-us-form").on("submit",function(e){e.preventDefault();var r=p(this),e=r.serialize(),l=p(".write-to-us-form-container"),c=p(".write-to-us-submission-message"),d=p(".contact-success-message-overlay");a(0,{name:"required",email:"required|email",message:"required",jobtitle:"required",company:"required"})&&(l.addClass("loading"),p.ajax(echologyx_vars.ajaxUrl,{method:"POST",data:e,success:function(e){var t,o,a,s,i,n;l.removeClass("loading"),0==e.error?""!=e.hubspot.portal_id?(t=e.post,o=e.hubspot,a=c,s=d,i=r,n=new XMLHttpRequest,o="https://api.hsforms.com/submissions/v3/integration/submit/"+o.portal_id+"/"+o.form_id,t={submittedAt:Date.now(),fields:[{objectTypeId:"0-1",name:"email",value:t.email},{objectTypeId:"0-1",name:"firstname",value:t.firstname},{objectTypeId:"0-1",name:"lastname",value:t.lastname},{objectTypeId:"0-1",name:"phone",value:t.phone},{objectTypeId:"0-1",name:"company",value:t.company},{objectTypeId:"0-1",name:"jobtitle",value:t.jobtitle},{objectTypeId:"0-1",name:"message",value:t.message},{objectTypeId:"0-1",name:"subscribe_for_newsletter",value:""!=t.subscribe_for_newsletter?t.subscribe_for_newsletter:""}],context:{pageUri:window.location.href,pageName:document.title}},t=JSON.stringify(t),n.open("POST",o),n.setRequestHeader("Content-Type","application/json"),n.onreadystatechange=function(){var e;4==n.readyState&&200==n.status?(s.addClass("active"),a.removeClass("form-error"),e=JSON.parse(n.response),a.html(e.inlineMessage),console.log(e),i.addClass("disabled"),p(".write-to-us-main-container").length&&p("html, body").animate({scrollTop:p(".write-to-us-main-container").eq(0).offset().top-250},1e3)):(e=JSON.parse(n.response),console.log(e),a.addClass("form-error"),a.removeClass("form-success"),a.html(e.message))},n.send(t)):(r.addClass("disabled"),d.addClass("active"),c.removeClass("form-error"),c.html(e.message)):(c.addClass("form-error"),c.html(e.message))}}))}),p(".write-to-us-form input, .write-to-us-form textarea").on("change",function(e){e.preventDefault(),a(p(this),{name:"required",email:"required|email",message:"required",jobtitle:"required",company:"required"})}),p(".team-grid-item").on("click",m),p(".member-details-popup-closed").on("click",function(e){p(".member-info-details-popup, .member-info-details-overlay").removeClass("active")}),p(document).on("click",function(e){p(e.target).closest(".member-info-details-popup").length||p(".member-info-details-popup, .member-info-details-overlay").removeClass("active"),p(e.target).hasClass("apply-job-popup")||p(e.target).closest(".apply-job-modal-container").length||p(".apply-job-modal-container, .apply-job-form-modal-overlay").removeClass("active"),(p(e.target).hasClass("close-icon")||p(e.target).parent().hasClass("close-icon"))&&p(".apply-job-modal-container, .apply-job-form-modal-overlay").removeClass("active")}),p(".apply-job-popup").on("click",function(e){p(".apply-job-modal-container, .apply-job-form-modal-overlay").addClass("active")}),p(".contact-form-message-close").on("click",function(e){p(".cantact-form").hide(),p(".contact-success-message-overlay").removeClass("active")}),p(".link-prevent-default").on("click",function(e){e.preventDefault()})})}();
